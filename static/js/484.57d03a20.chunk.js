(self.webpackChunkpouletterie=self.webpackChunkpouletterie||[]).push([[484],{484:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return U}});var r=t(5764),o="https://js.stripe.com/v3",i=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,a="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",s=null,u=function(e){return null!==s||(s=new Promise((function(n,t){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(a),window.Stripe)n(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(o,'"]')),n=0;n<e.length;n++){var t=e[n];if(i.test(t.src))return t}return null}();r&&e?console.warn(a):r||(r=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",t=document.createElement("script");t.src="".concat(o).concat(n);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(t),t}(e)),r.addEventListener("load",(function(){window.Stripe?n(window.Stripe):t(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){t(new Error("Failed to load Stripe.js"))}))}catch(s){return void t(s)}else n(null)}))),s},c=function(e,n,t){if(null===e)return null;var r=e.apply(void 0,n);return function(e,n){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.22.0",startTime:n})}(r,t),r},p=Promise.resolve().then((function(){return u(null)})),l=!1;p.catch((function(e){l||console.warn(e)}));var f,d,m,y,v,b,g=t(2791),h=t(6030),x=t(5861),w=t(7757),E=t.n(w),j=t(3623),P=t(6398),k=t(168),S=t(5751),O=S.ZP.form(f||(f=(0,k.Z)(["\n  width: 30vw;\n  min-width: 500px;\n  align-self: center;\n  box-shadow: 0px 0px 0px 0.5px rgba(50, 50, 93, 0.1),\n    0px 2px 5px 0px rgba(50, 50, 93, 0.1), 0px 1px 1.5px 0px rgba(0, 0, 0, 0.07);\n  border-radius: 7px;\n  padding: 40px;\n  @media only screen and (max-width: 600px) {\n    width: 80vw;\n    min-width: initial;\n  }\n"]))),C=S.ZP.div(d||(d=(0,k.Z)(["\n  color: rgb(105, 115, 134);\n  font-size: 16px;\n  line-height: 20px;\n  padding-top: 12px;\n  text-align: center;\n"]))),A=(0,S.ZP)(r.PaymentElement)(m||(m=(0,k.Z)(["\n  margin-bottom: 24px;\n"]))),_=S.ZP.button(y||(y=(0,k.Z)(["\n  background: #5469d4;\n  font-family: Arial, sans-serif;\n  color: #ffffff;\n  border-radius: 4px;\n  border: 0;\n  padding: 12px 16px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  display: block;\n  transition: all 0.2s ease;\n  box-shadow: 0px 4px 5.5px 0px rgba(0, 0, 0, 0.07);\n  width: 100%;\n\n  :hover {\n    filter: contrast(115%);\n  }\n\n  :disabled {\n    opacity: 0.5;\n    cursor: default;\n  }\n"]))),Z=S.ZP.div(v||(v=(0,k.Z)(['\n  .spinner,\n  .spinner:before,\n  .spinner:after {\n    border-radius: 50%;\n  }\n\n  .spinner {\n    color: #ffffff;\n    font-size: 22px;\n    text-indent: -99999px;\n    margin: 0px auto;\n    position: relative;\n    width: 20px;\n    height: 20px;\n    box-shadow: inset 0 0 0 2px;\n    -webkit-transform: translateZ(0);\n    -ms-transform: translateZ(0);\n    transform: translateZ(0);\n  }\n\n  .spinner:before,\n  .spinner:after {\n    position: absolute;\n    content: "";\n  }\n\n  .spinner:before {\n    width: 10.4px;\n    height: 20.4px;\n    background: #5469d4;\n    border-radius: 20.4px 0 0 20.4px;\n    top: -0.2px;\n    left: -0.2px;\n    -webkit-transform-origin: 10.4px 10.2px;\n    transform-origin: 10.4px 10.2px;\n    -webkit-animation: loading 2s infinite ease 1.5s;\n    animation: loading 2s infinite ease 1.5s;\n  }\n\n  .spinner:after {\n    width: 10.4px;\n    height: 10.2px;\n    background: #5469d4;\n    border-radius: 0 10.2px 10.2px 0;\n    top: -0.1px;\n    left: 10.2px;\n    -webkit-transform-origin: 0px 10.2px;\n    transform-origin: 0px 10.2px;\n    -webkit-animation: loading 2s infinite ease;\n    animation: loading 2s infinite ease;\n  }\n\n  @keyframes loading {\n    0% {\n      -webkit-transform: rotate(0deg);\n      transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n    }\n  }\n']))),T=(0,t(6916).P1)([function(e){return e.payment}],(function(e){return e.clientSecret})),I=t(6871),R=t(4719),B=t(184),N=function(){var e=(0,r.useStripe)(),n=(0,r.useElements)(),t=(0,h.I0)(),o=(0,h.v9)(P.NH),i=(0,h.v9)(P.rT),a=(0,h.v9)(T),s=(0,I.s0)();(0,g.useEffect)((function(){}),[a,e]);var u=function(){var r=(0,x.Z)(E().mark((function r(o){var i,u;return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o.preventDefault(),e&&n){r.next=3;break}return r.abrupt("return");case 3:return t((0,j.o4)()),r.next=6,e.confirmPayment({elements:n,redirect:"if_required"});case 6:i=r.sent,(u=i.error)?(t((0,j.PJ)({status:"error",message:u.message})),"canceled"===u.payment_intent.status&&(t((0,j.PJ)({status:"error",message:"Vous avez mis trop de temps pour valider votre commande"})),s("/panier"))):e.retrievePaymentIntent(a).then((function(e){switch(e.paymentIntent.status){case"succeeded":t((0,j.PJ)({status:"success",message:"Paiement r\xe9ussi"})),t((0,R.UY)()),setTimeout((function(){s("/vos-commandes")}),3e3);break;case"processing":t((0,j.PJ)({setMessage:"success",message:"Paiement en cours..."}));break;case"requires_payment_method":t((0,j.PJ)({status:"error",message:"Il y \xe0 eu un probl\xe9me lors de votre paiement, veuillez r\xe9essayer"})),s("/panier");break;default:t((0,j.PJ)({status:"error",message:"Il y \xe0 eu un probl\xe8me, vous n'avez pas \xe9t\xe9 factur\xe9"})),s("/panier")}})),t((0,j.o4)());case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,B.jsxs)(O,{id:"payment-form",onSubmit:u,children:[(0,B.jsx)(A,{id:"payment-element"}),(0,B.jsx)(_,{disabled:o||!e||!n,id:"submit",children:(0,B.jsx)("span",{id:"button-text",children:o?(0,B.jsx)(Z,{className:"spinner",id:"spinner"}):"Payer"})}),i.message&&(0,B.jsx)(C,{id:"payment-message",children:i.message})]})},z=S.ZP.div(b||(b=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),W=t(1707),q=t(5061),M=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];l=!0;var r=Date.now();return p.then((function(e){return c(e,n,r)}))}("pk_live_51KSlpYKuxRjWa7cBtCXgoZtfEXwgdSxZzC3d5ZIXwy3heeQN2oUW8IWgVEPnJ3cbzvUSqtyn1My8RtmTzZg8Vxnf00zQcb2P5z"),U=function(){var e=(0,h.v9)(T),n=(0,h.v9)(q.sE),t={clientSecret:e,appearance:{theme:"stripe"}};return(0,B.jsxs)(z,{children:[(0,B.jsx)(W.Z,{children:"Payer : ".concat(n," \u20ac")}),e&&(0,B.jsx)(r.Elements,{options:t,stripe:M,children:(0,B.jsx)(N,{})})]})}},5764:function(e,n,t){!function(e,n){"use strict";function t(e,n){return e(n={exports:{}},n.exports),n.exports}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function o(){}function i(){}i.resetWarningCache=o;var a=function(){function e(e,n,t,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function n(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:i,resetWarningCache:o};return t.PropTypes=t,t},s=t((function(e){e.exports=a()}));function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function f(e,n){return d(e)||m(e,n)||y(e,n)||b()}function d(e){if(Array.isArray(e))return e}function m(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return t}}function y(e,n){if(e){if("string"===typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,n):void 0}}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g=function(e){var t=n.useRef(e);return n.useEffect((function(){t.current=e}),[e]),t.current},h=function(e){return null!==e&&"object"===u(e)},x=function(e){return h(e)&&"function"===typeof e.then},w=function(e){return h(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},E="[object Object]",j=function e(n,t){if(!h(n)||!h(t))return n===t;var r=Array.isArray(n);if(r!==Array.isArray(t))return!1;var o=Object.prototype.toString.call(n)===E;if(o!==(Object.prototype.toString.call(t)===E))return!1;if(!o&&!r)return n===t;var i=Object.keys(n),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s={},u=0;u<i.length;u+=1)s[i[u]]=!0;for(var c=0;c<a.length;c+=1)s[a[c]]=!0;var p=Object.keys(s);if(p.length!==i.length)return!1;var l=n,f=t,d=function(n){return e(l[n],f[n])};return p.every(d)},P=function(e,n,t){return h(e)?Object.keys(e).reduce((function(r,o){var i=!h(n)||!j(e[o],n[o]);return t.includes(o)?(i&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),r):i?l(l({},r||{}),{},c({},o,e[o])):r}),null):null},k="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",S=function(e){if(null===e||w(e))return e;throw new Error(k)},O=function(e){if(x(e))return{tag:"async",stripePromise:Promise.resolve(e).then(S)};var n=S(e);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},C=n.createContext(null);C.displayName="ElementsContext";var A=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},_=function(e){var t=e.stripe,r=e.options,o=e.children,i=n.useRef(!1),a=n.useRef(!0),s=n.useMemo((function(){return O(t)}),[t]),u=f(n.useState((function(){return{stripe:null,elements:null}})),2),c=u[0],p=u[1],l=g(t);null!==l&&l!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),i.current||("sync"===s.tag&&(i.current=!0,p({stripe:s.stripe,elements:s.stripe.elements(r)})),"async"===s.tag&&(i.current=!0,s.stripePromise.then((function(e){e&&a.current&&p({stripe:e,elements:e.elements(r)})}))));var d=g(r);return n.useEffect((function(){if(c.elements){var e=P(r,d,["clientSecret","fonts"]);e&&c.elements.update(e)}}),[r,d,c.elements]),n.useEffect((function(){return function(){a.current=!1}}),[]),n.useEffect((function(){var e=c.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"1.7.0",url:"https://stripe.com/docs/stripe-js/react"}))}),[c.stripe]),n.createElement(C.Provider,{value:c},o)};_.propTypes={stripe:s.any,options:s.object};var Z=function(e){var t=n.useContext(C);return A(t,e)},T=function(){return Z("calls useElements()").elements},I=function(){return Z("calls useStripe()").stripe},R=function(e){return(0,e.children)(Z("mounts <ElementsConsumer>"))};R.propTypes={children:s.func.isRequired};var B=function(e){var t=n.useRef(e);return n.useEffect((function(){t.current=e}),[e]),function(){t.current&&t.current.apply(t,arguments)}},N=function(){},z=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},W=function(e,t){var r="".concat(z(e),"Element"),o=t?function(e){Z("mounts <".concat(r,">"));var t=e.id,o=e.className;return n.createElement("div",{id:t,className:o})}:function(t){var o=t.id,i=t.className,a=t.options,s=void 0===a?{}:a,u=t.onBlur,c=void 0===u?N:u,p=t.onFocus,l=void 0===p?N:p,f=t.onReady,d=void 0===f?N:f,m=t.onChange,y=void 0===m?N:m,v=t.onEscape,b=void 0===v?N:v,h=t.onClick,x=void 0===h?N:h,w=Z("mounts <".concat(r,">")).elements,E=n.useRef(null),j=n.useRef(null),k=B(d),S=B(c),O=B(l),C=B(x),A=B(y),_=B(b);n.useLayoutEffect((function(){if(null==E.current&&w&&null!=j.current){var n=w.create(e,s);E.current=n,n.mount(j.current),n.on("ready",(function(){return k(n)})),n.on("change",A),n.on("blur",S),n.on("focus",O),n.on("escape",_),n.on("click",C)}}));var T=g(s);return n.useEffect((function(){if(E.current){var e=P(s,T,["paymentRequest"]);e&&E.current.update(e)}}),[s,T]),n.useLayoutEffect((function(){return function(){E.current&&E.current.destroy()}}),[]),n.createElement("div",{id:o,className:i,ref:j})};return o.propTypes={id:s.string,className:s.string,onChange:s.func,onBlur:s.func,onFocus:s.func,onReady:s.func,onClick:s.func,options:s.object},o.displayName=r,o.__elementType=e,o},q="undefined"===typeof window,M=W("auBankAccount",q),U=W("card",q),D=W("cardNumber",q),L=W("cardExpiry",q),F=W("cardCvc",q),J=W("fpxBank",q),Y=W("iban",q),V=W("idealBank",q),X=W("p24Bank",q),H=W("epsBank",q),K=W("payment",q),Q=W("paymentRequestButton",q),$=W("linkAuthentication",q),G=W("shippingAddress",q),ee=W("affirmMessage",q),ne=W("afterpayClearpayMessage",q);e.AffirmMessageElement=ee,e.AfterpayClearpayMessageElement=ne,e.AuBankAccountElement=M,e.CardCvcElement=F,e.CardElement=U,e.CardExpiryElement=L,e.CardNumberElement=D,e.Elements=_,e.ElementsConsumer=R,e.EpsBankElement=H,e.FpxBankElement=J,e.IbanElement=Y,e.IdealBankElement=V,e.LinkAuthenticationElement=$,e.P24BankElement=X,e.PaymentElement=K,e.PaymentRequestButtonElement=Q,e.ShippingAddressElement=G,e.useElements=T,e.useStripe=I,Object.defineProperty(e,"__esModule",{value:!0})}(n,t(2791))}}]);
//# sourceMappingURL=484.57d03a20.chunk.js.map